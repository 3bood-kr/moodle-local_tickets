define ("local_tickets/modalforms",["exports","core_form/modalform","core/toast","core/str"],function(a,b,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.changeStatusModalForms=a.modalForm=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);function e(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);if(b)d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable});c.push.apply(c,d)}return c}function f(a){for(var b=1,c;b<arguments.length;b++){c=null!=arguments[b]?arguments[b]:{};if(b%2){e(Object(c),!0).forEach(function(b){g(a,b,c[b])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(a,Object.getOwnPropertyDescriptors(c))}else{e(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}}return a}function g(a,b,c){if(b in a){Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0})}else{a[b]=c}return a}var h=function(a,b){(0,c.add)(a,{type:b})};a.modalForm=function modalForm(a,c,d){var e,g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:f({},g,{hidebuttons:null!==(e=g.hidebuttons)&&void 0!==e?e:1});document.querySelector(a).addEventListener("click",function(a){a.preventDefault();var e=new b.default({formClass:c,args:g,modalConfig:{title:d},returnFocus:a.currentTarget});e.addEventListener(e.events.FORM_SUBMITTED,function(a){var b=a.detail,c=200==b.status?"success":"danger";h(b.message,c)});e.addEventListener(e.events.ERROR,function(a){return h("Oopsie - "+a.detail.message)});e.show()})};a.changeStatusModalForms=function changeStatusModalForms(a,c){var e,g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:f({},g,{hidebuttons:null!==(e=g.hidebuttons)&&void 0!==e?e:1}),i=document.querySelectorAll(a);i.forEach(function(a){a.addEventListener("click",function(i){i.preventDefault();var e=a.dataset.ticketId,j=new b.default({formClass:c,args:f({},g,{id:e}),modalConfig:{title:(0,d.get_string)("edit_status","local_tickets")},returnFocus:i.currentTarget});j.addEventListener(j.events.FORM_SUBMITTED,function(a){var b=a.detail,c;if(200==b.status){c="success";location.reload()}else{c="danger"}h(b.message,c)});j.addEventListener(j.events.ERROR,function(a){h("Oopsie - "+a.detail.message)});j.show()})})}});
//# sourceMappingURL=modalforms.min.js.map
