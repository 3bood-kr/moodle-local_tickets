define("local_tickets/modalforms",["exports","core_form/modalform","core/toast"],(function(_exports,_modalform,_toast){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.modalForm=_exports.changeStatusModalForms=void 0,_modalform=(obj=_modalform)&&obj.__esModule?obj:{default:obj};const addNotification=(msg,type)=>{(0,_toast.add)(msg,{type:type})};_exports.modalForm=function(linkSelector,formClass,title){var _args$hidebuttons;let args=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{...args,hidebuttons:null!==(_args$hidebuttons=args.hidebuttons)&&void 0!==_args$hidebuttons?_args$hidebuttons:1};document.querySelector(linkSelector).addEventListener("click",(e=>{e.preventDefault();const form=new _modalform.default({formClass:formClass,args:args,modalConfig:{title:title},returnFocus:e.currentTarget});form.addEventListener(form.events.FORM_SUBMITTED,(e=>{const response=e.detail,type=200==response.status?"success":"danger";addNotification(response.message,type)})),form.addEventListener(form.events.ERROR,(e=>addNotification("Oopsie - "+e.detail.message))),form.show()}))};_exports.changeStatusModalForms=function(linkSelector,formClass){var _args$hidebuttons2;let args=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{...args,hidebuttons:null!==(_args$hidebuttons2=args.hidebuttons)&&void 0!==_args$hidebuttons2?_args$hidebuttons2:1};const elements=document.querySelectorAll(linkSelector);elements.forEach((element=>{element.addEventListener("click",(e=>{e.preventDefault();const ticketId=element.dataset.ticketId,form=new _modalform.default({formClass:formClass,args:{...args,id:ticketId},modalConfig:{title:"Edit Status"},returnFocus:e.currentTarget});form.addEventListener(form.events.FORM_SUBMITTED,(e=>{const response=e.detail;let type;200==response.status?(type="success",location.reload()):type="danger",addNotification(response.message,type)})),form.addEventListener(form.events.ERROR,(e=>{addNotification("Oopsie - "+e.detail.message)})),form.show()}))}))}}));

//# sourceMappingURL=modalforms.min.js.map