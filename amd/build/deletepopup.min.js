define("local_tickets/deletepopup",["exports","core/ajax","core/notification","core/toast"],(function(_exports,_ajax,_notification,_toast){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_notification=(obj=_notification)&&obj.__esModule?obj:{default:obj};const addNotification=(msg,type)=>{(0,_toast.add)(msg,{type:type})};_exports.init=()=>{Array.from(document.getElementsByClassName("delete-ticket")).forEach((element=>{element.addEventListener("click",(e=>{e.preventDefault();const ticketId=element.dataset.ticketId;_notification.default.confirm("Confirm","Are you sure you want to delete this Ticket?","Yes","No",(()=>{e.preventDefault(),(0,_ajax.call)([{methodname:"local_tickets_delete_ticket",args:{id:ticketId},done:function(response){console.log(ticketId),console.log(response),200==response.status?location.reload():addNotification(response.message,"danger")},fail:function(ex){addNotification("Failed to delete ticket: ".concat(ex),"danger"),console.log(ex)}}])}))}))}))}}));

//# sourceMappingURL=deletepopup.min.js.map