define ("local_tickets/deletepopup",["exports","core/ajax","core/notification","core/toast","core/str"],function(a,b,c,d,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;c=function(a){return a&&a.__esModule?a:{default:a}}(c);var g=function(a,b){(0,d.add)(a,{type:b})};a.init=function init(){Array.from(document.getElementsByClassName("delete-ticket")).forEach(function(a){a.addEventListener("click",function(d){d.preventDefault();var e=a.dataset.ticketId;c.default.confirm((0,f.get_string)("confirm"),(0,f.get_string)("confirm_ticket_delete","local_tickets"),(0,f.get_string)("yes"),(0,f.get_string)("no"),function(){d.preventDefault();(0,b.call)([{methodname:"local_tickets_delete_ticket",args:{id:e},done:function done(a){console.log(e);console.log(a);if(200==a.status){location.reload()}else{g(a.message,"danger")}},fail:function fail(a){g("Failed to delete ticket: ".concat(a),"danger");console.log(a)}}])})})})}});
//# sourceMappingURL=deletepopup.min.js.map
